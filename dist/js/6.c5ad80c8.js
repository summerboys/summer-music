(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"7BlZ":function(t,i,e){},"IU+Z":function(t,i,e){"use strict";var n=e("Mukb"),r=e("KroJ"),s=e("eeVq"),a=e("vhPU"),c=e("K0xU");t.exports=function(t,i,e){var o=c(t),u=e(a,o,""[t]),l=u[0],f=u[1];s(function(){var i={};return i[o]=function(){return 7},7!=""[t](i)})&&(r(String.prototype,t,l),n(RegExp.prototype,o,2==i?function(t,i){return f.call(t,this,i)}:function(t){return f.call(t,this)}))}},PshD:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"song"},[e("div",{staticClass:"background"},[e("img",{ref:"background",attrs:{width:"100%",height:"100%",alt:""}})]),e("div",{staticClass:"logo",on:{click:t.back}},[e("i",{staticClass:"iconfont icon-back"})]),e("audio",{ref:"music",attrs:{autoplay:"",loop:"",src:t.song.url}}),e("div",{staticClass:"wrapper"},[e("div",{staticClass:"box"},[e("div",{staticClass:"inner"},[e("img",{ref:"img",staticClass:"pic",attrs:{width:"184px",height:"184px",alt:""}}),e("i",{ref:"icon",class:"iconfont "+(1==t.flag?"icon-bofang":"icon-iconset0481"),on:{click:function(i){i.preventDefault(),i.stopPropagation(),t.play(t.flag)}}})]),e("p",{ref:"title",staticClass:"title"})]),e("div",{staticClass:"lyric"},[e("my-scroll",{ref:"scroll",staticClass:"scroll"},[e("ul",{ref:"list",staticClass:"list"},t._l(t.lyric,function(i,n){return e("li",{key:n,ref:"item",refInFor:!0,attrs:{"data-time":"item[0]"}},[e("span",{class:{current:t.time===i[0]}},[t._v(t._s(i[1]))])])}))])],1)])])},r=[],s=(e("f3/d"),e("rGqo"),e("pIFo"),e("yt8O"),e("VRzm"),e("vDqi")),a=e.n(s);a.a.defaults.baseURL="http://summerboy.cn:3000/";var c=function(t){return a.a.get("/music/url?id=".concat(t))},o=function(t){return a.a.get("/song/detail?ids=".concat(t)).then(function(t){return Promise.resolve(t.data)})},u=function(t){return a.a.get("/lyric?id=".concat(t))},l=e("6fzR"),f={data:function(){return{song:[],img:[],lyric:[],flag:!0,time:0,duration:0,currentNum:0}},computed:{id:function(){return this.$route.query.id}},methods:{play:function(t){if(!t)return this.$refs.music.play(),this.$refs.img.style.animationPlayState="running",void(this.flag=!0);this.$refs.music.pause(),this.flag=!1,this.$refs.img.style.animationPlayState="paused"},back:function(){this.$router.back()},bindLyric:function(t){var i=/\[(\d{2}):(\d{2})\.\d+\]([^\[\]]+)/g,e=[];t.replace(i,function(t,i,n,r){var s=[];s.push(i+":"+n,r),e.push(s)}),this.lyric=e},zero:function(t){return t<10?"0"+t:t},computedTime:function(t){var i=Math.floor(t/60),e=Math.floor(t-60*i);return this.zero(i)+":"+this.zero(e)},addEventListeners:function(){var t=this;this.$refs.music.addEventListener("timeupdate",t._currentTime),this.$refs.music.addEventListener("canplay",t._durationTime)},removeEventListeners:function(){var t=this;this.$refs.music.removeEventListener("timeupdate",t._currentTime),this.$refs.music.removeEventListener("canplay",t._durationTime)},_currentTime:function(){this.time=this.computedTime(parseInt(this.$refs.music.currentTime))},_durationTime:function(){this.duration=parseInt(this.$refs.music.duration),console.log(this.duration)},moveLyric:function(t){var i=this;if(this.lyric.forEach(function(e,n){e[0]===t&&(i.currentNum=n)}),this.currentNum>3){var e=this.$refs.item[this.currentNum-3];this.$refs.scroll.scrollToElement(e,1e3)}else this.$refs.scroll.scrollTo(0,0,1e3)}},created:function(){var t=this;c(this.id).then(function(i){200===i.data.code&&(t.song=i.data.data[0])}),o(this.id).then(function(i){200===i.code&&(t.img=i.songs[0],t.$refs.img.src=t.img.al.picUrl,t.$refs.background.src=t.img.al.picUrl,t.$refs.title.innerHTML=t.img.name+" - "+t.img.ar[0].name)}),u(this.id).then(function(i){200===i.data.code&&(t.lyric=i.data.lrc.lyric),t.bindLyric(t.lyric)})},mounted:function(){this.addEventListeners()},beforeDestroy:function(){this.removeEventListeners()},watch:{time:function(){this.moveLyric(this.time)}},components:{myScroll:l["a"]}},m=f,d=(e("hlcz"),e("KHd+")),h=Object(d["a"])(m,n,r,!1,null,"fb6b5e36",null);i["default"]=h.exports},"f3/d":function(t,i,e){var n=e("hswa").f,r=Function.prototype,s=/^\s*function ([^ (]*)/,a="name";a in r||e("nh4g")&&n(r,a,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},hlcz:function(t,i,e){"use strict";var n=e("7BlZ"),r=e.n(n);r.a},pIFo:function(t,i,e){e("IU+Z")("replace",2,function(t,i,e){return[function(n,r){"use strict";var s=t(this),a=void 0==n?void 0:n[i];return void 0!==a?a.call(n,s,r):e.call(String(s),n,r)},e]})},rGqo:function(t,i,e){for(var n=e("yt8O"),r=e("DVgA"),s=e("KroJ"),a=e("dyZX"),c=e("Mukb"),o=e("hPIQ"),u=e("K0xU"),l=u("iterator"),f=u("toStringTag"),m=o.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=r(d),p=0;p<h.length;p++){var g,v=h[p],y=d[v],L=a[v],S=L&&L.prototype;if(S&&(S[l]||c(S,l,m),S[f]||c(S,f,v),o[v]=m,y))for(g in n)S[g]||s(S,g,n[g],!0)}}}]);
//# sourceMappingURL=6.c5ad80c8.js.map